(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(2),c=n.n(r),l=(n(15),n(3)),i=n(4),u=n(5),m=n(7),s=n(6),d=n(8);n.e(4).then(n.t.bind(null,18,7));var h=function(e){return o.a.createElement("div",{className:"wrapper"},e.children)},p=(n(16),function(e){return o.a.createElement("div",{className:"main",key:e._id,id:e._id},o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,e.title))),o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("a",{href:"https://www.nytimes.com/"+e.link},e.link))),o.a.createElement("tr",null,o.a.createElement("td",null,o.a.createElement("img",{src:e.image,alt:"article"}))))),o.a.createElement("div",{className:"comment"}),o.a.createElement("input",{type:"text",onChange:function(t){return e.change(t)},name:"author",placeholder:"Your Name"}),o.a.createElement("input",{type:"text",onChange:function(t){return e.change(t)},name:"comment",placeholder:"Your Comment"}),o.a.createElement("button",{onClick:function(){return e.addComment(e.id)}},"Submit"),o.a.createElement("div",{className:"commentSection",onClick:function(){return e.comment(e.id)}},o.a.createElement("p",null,"Click to see comments")))});n.e(3).then(n.t.bind(null,19,7));var f=function(e){return o.a.createElement("div",{className:"scrapeBtn"},o.a.createElement("button",{onClick:function(){return e.clicky()}},"Scrape New Articles"))},E=function(){return o.a.createElement("div",{className:"top"},o.a.createElement("header",null,o.a.createElement("h1",null,"Science News Scraper")))},g=function(e){return o.a.createElement("div",null,o.a.createElement("p",null,e.author+" "," ",e.body))},y=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(m.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={loadedData:[],author:"",comment:"",returnedAuthor:"",returnedComment:""},n.componentDidMount=function(){n.displayArticles()},n.scrape=function(){fetch("http://localhost:3002/scrape").then(function(e){return e.json()}),console.log(n.state),n.displayArticles()},n.displayArticles=function(){fetch("http://localhost:3002/api/data").then(function(e){return e.json()}).then(function(e){return n.setState({loadedData:e})})},n.handleInputChange=function(e){var t=e.target.name,a=e.target.value;n.setState(Object(l.a)({},t,a))},n.getComment=function(e){console.log(e),fetch("http://localhost:3002/api/data/".concat(e)).then(function(e){return e.json()}).then(function(e){return n.setState({returnedAuthor:e.comment.author,returnedComment:e.comment.body})}).catch(function(e){console.log(e),n.setState({returnedAuthor:"no author",returnedComment:"no comment"})})},n.addComment=function(e){var t={author:n.state.author,body:n.state.comment};console.log(t);var a={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)};fetch("http://localhost:3002/api/data/".concat(e),a).then(function(e){console.log("Request success: ",e)}).catch(function(e){console.log("Request failure: ",e)})},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(h,null,o.a.createElement(E,null),o.a.createElement(f,{clicky:this.scrape}),this.state.loadedData.map(function(t){return o.a.createElement(p,{title:t.title,link:t.link,image:t.image,key:t._id,id:t._id,change:e.handleInputChange,comment:e.getComment,addComment:e.addComment,author:e.state.returnedAuthor,body:e.state.returnedComment})}),o.a.createElement(g,{author:this.state.returnedAuthor,body:this.state.returnedComment}))}}]),t}(o.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.4a3ff35b.chunk.js.map